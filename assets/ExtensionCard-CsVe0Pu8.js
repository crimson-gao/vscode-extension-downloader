const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Category-BRFwJEct.js","assets/index-DOwhYmJa.js","assets/react-BTWMFwqw.js","assets/zustand-CiEl5s0X.js","assets/antd-BjicoLEj.js","assets/index-Dh8JIvEK.css","assets/AppstoreOutlined-B_m1Ymzd.js","assets/Description-Dq-5ssLN.js","assets/VersionSelector-zYXyU-FZ.js"])))=>i.map(i=>d[i]);
import{I as m,u as y,g as R,j as e,a as b,d as D,L as d,_ as g}from"./index-DOwhYmJa.js";import{r as o,R as v}from"./react-BTWMFwqw.js";import{D as E,T as S,d as _,s as u,B as p,C as $,e as N}from"./antd-BjicoLEj.js";var A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 140H96c-17.7 0-32 14.3-32 32v496c0 17.7 14.3 32 32 32h380v112H304c-8.8 0-16 7.2-16 16v48c0 4.4 3.6 8 8 8h432c4.4 0 8-3.6 8-8v-48c0-8.8-7.2-16-16-16H548V700h380c17.7 0 32-14.3 32-32V172c0-17.7-14.3-32-32-32zm-40 488H136V212h752v416z"}}]},name:"desktop",theme:"outlined"};function h(){return h=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},h.apply(this,arguments)}const z=(t,n)=>o.createElement(m,h({},t,{ref:n,icon:A})),I=o.forwardRef(z);function f(){return f=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},f.apply(this,arguments)}const M=(t,n)=>o.createElement(m,f({},t,{ref:n,icon:E})),T=o.forwardRef(M);var V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"};function x(){return x=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},x.apply(this,arguments)}const P=(t,n)=>o.createElement(m,x({},t,{ref:n,icon:V})),w=o.forwardRef(P),{Option:B}=_,{Text:U}=S,H=R(),F=()=>{const{selectedArchitecture:t,setSelectedArchitecture:n,availableArchitectures:r}=y(),a=o.useMemo(()=>r.map(s=>H.get(s)).filter(Boolean),[r]),j=o.useCallback(s=>{n(s)},[n]);return e.jsxs("div",{className:"w-70",children:[e.jsx("div",{className:"mb-2",children:e.jsxs(U,{strong:!0,children:[e.jsx(I,{style:{marginRight:"6px"}}),"Target Architecture"]})}),e.jsx(_,{value:t,onChange:j,placeholder:"Select Architecture",style:{width:"200px"},children:a.map(s=>e.jsx(B,{value:s.value,children:e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:e.jsxs("span",{children:[e.jsx("span",{style:{marginRight:"8px",fontSize:"1.1em"},children:s.icon}),s.label]})})},s.value))})]})},G=()=>{const{extension:t,selectedVersion:n,availableVersions:r,selectedArchitecture:a}=y(),s=(r.get(a)??[]).find(l=>l.version===n),i=o.useMemo(()=>`${t==null?void 0:t.publisher.publisherName}.${t==null?void 0:t.extensionName}`,[t]),O=o.useCallback(async()=>{if(!s||!t)return;const l=b(s);if(!l){console.error("No download URL found");return}const c=`${i}-${n}-${a}.vsix`;try{await D(l,c)}catch(C){console.error("Download failed:",C)}},[t,n,a,s,i]),L=o.useCallback(async()=>{if(!s||!t)return;const l=b(s);if(!l){u.error("No download URL found");return}try{await navigator.clipboard.writeText(l),u.success("Download link copied to clipboard!")}catch(c){console.error("Copy failed:",c),u.error("Failed to copy link")}},[s,t]),k=o.useCallback(async()=>{!s||!t||window.open(`https://marketplace.visualstudio.com/items?itemName=${i}`,"_blank")},[s,t,i]);return n?e.jsx("div",{className:"flex flex-row gap-2",children:e.jsxs("div",{className:"flex gap-2 mb-24 items-center",children:[e.jsxs(p,{type:"primary",icon:e.jsx(T,{}),onClick:O,disabled:!s,children:["Download v",n]}),e.jsx(p,{icon:e.jsx(w,{}),onClick:L,disabled:!s,variant:"filled",style:{border:"none",boxShadow:"none",transition:"all 0.2s ease"},children:"Copy Link"}),e.jsx(p,{icon:e.jsx(w,{}),onClick:k,variant:"filled",style:{border:"none",boxShadow:"none",transition:"all 0.2s ease"},children:"Go to Marketplace"})]})}):null},q=v.lazy(()=>g(()=>import("./Category-BRFwJEct.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),J=v.lazy(()=>g(()=>import("./Description-Dq-5ssLN.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),K=v.lazy(()=>g(()=>import("./VersionSelector-zYXyU-FZ.js"),__vite__mapDeps([8,1,2,3,4,5]))),Q=()=>e.jsx($,{style:{marginBottom:"24px"},children:e.jsxs("div",{className:"flex flex-row items-start mb-2 space-between gap-6",children:[e.jsxs("div",{className:"w-2/3 flex flex-col gap-8",children:[e.jsx(o.Suspense,{fallback:e.jsx(d,{height:80,tip:"Loading description..."}),children:e.jsx(J,{})}),e.jsxs("div",{className:"flex flex-row space-between",children:[e.jsx(F,{}),e.jsx(o.Suspense,{fallback:e.jsx(d,{height:50,tip:"Loading versions..."}),children:e.jsx(K,{})})]}),e.jsx(G,{})]}),e.jsx(N,{type:"vertical",style:{height:"150px"}}),e.jsx(o.Suspense,{fallback:e.jsx(d,{height:120,tip:"Loading categories..."}),children:e.jsx(q,{})})]})}),Z=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));export{Z as E,T as R};
